# API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤–∞–∫–∞–Ω—Å–∏–∏

## –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤–∞–∫–∞–Ω—Å–∏–π –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–æ–∏ –≤–∞–∫–∞–Ω—Å–∏–∏" —Å –∫—Ä–∞—Å–∏–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –≤—ã–±–æ—Ä–∞ —Å—Ç–∞—Ç—É—Å–∞.

## API Endpoint

### üîó **Endpoint**
```
PATCH /jobs/{job_id}
```

### üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
```
Authorization: Bearer <token>
Content-Type: application/json
```

### üìù **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "status": "ACTIVE"
}
```

### üéØ **–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã**
- **ACTIVE** - –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è (–∑–µ–ª–µ–Ω—ã–π)
- **PAUSED** - –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–∂–µ–ª—Ç—ã–π)
- **CLOSED** - –ó–∞–∫—Ä—ã—Ç–∞ (–∫—Ä–∞—Å–Ω—ã–π)
- **DRAFT** - –ß–µ—Ä–Ω–æ–≤–∏–∫ (—Å–µ—Ä—ã–π)
- **ARCHIVED** - –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)

### üì§ **–û—Ç–≤–µ—Ç API**
```json
{
  "id": "job_id",
  "title": "Frontend Developer",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏...",
  "status": "ACTIVE",
  "type": "FULL_TIME",
  "experienceLevel": "MIDDLE",
  "location": "–ú–æ—Å–∫–≤–∞",
  "remote": false,
  "salaryMin": 100000,
  "salaryMax": 200000,
  "currency": "RUB",
  "createdAt": "2025-10-18T16:49:17.000Z",
  "updatedAt": "2025-10-18T16:49:17.000Z",
  "hr": {
    "id": "hr_profile_id",
    "firstName": "–ò–≤–∞–Ω",
    "lastName": "–ü–µ—Ç—Ä–æ–≤",
    "company": "IT Company"
  },
  "skills": [
    {
      "id": "skill_id",
      "name": "React",
      "category": "Frontend"
    }
  ]
}
```

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **API Integration** (`src/lib/api/jobsApi.ts`)
```typescript
updateJobStatus: builder.mutation<Job, { jobId: string; status: string }>({
  query: ({ jobId, status }) => ({
    url: `/jobs/${jobId}`,
    method: 'PATCH',
    body: { status },
  }),
  invalidatesTags: (result, error, { jobId }) => [
    { type: 'Job', id: jobId },
    'Job',
    'MyJobs',
  ],
})
```

### 2. **UI Components** (`src/app/jobs/my/page.tsx`)
- **–ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å**: –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π —Å—Ç—Ä–µ–ª–∫–∏
- **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ**: –≤—ã–±–æ—Ä –Ω–æ–≤–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏**: `handleStatusChangeClick`, `handleStatusUpdate`
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: `showStatusModal`, `selectedStatus`

### 3. **–°—Ç–∏–ª–∏** (`src/app/jobs/my/my-jobs.module.css`)
- **–ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**: `.jobStatusButton` —Å hover-—ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ**: `.statusOptions`, `.statusOption`
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**: —Ü–≤–µ—Ç–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### üéØ **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. **HR –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å –≤–∞–∫–∞–Ω—Å–∏–∏** –≤ –∫–∞—Ä—Ç–æ—á–∫–µ (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π —Å –∏–∫–æ–Ω–∫–æ–π)
2. **–ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ —Å—Ç–∞—Ç—É—Å** ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
3. **–í—ã–±–∏—Ä–∞–µ—Ç –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å** –∏–∑ —Å–ø–∏—Å–∫–∞ —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
4. **–ù–∞–∂–∏–º–∞–µ—Ç "–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å"** ‚Üí —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è
5. **–°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### üé® **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- **–ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å**: –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π —Å—Ç—Ä–µ–ª–∫–∏ –≤–Ω–∏–∑
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è**: –∫–∞–∂–¥—ã–π —Å—Ç–∞—Ç—É—Å –∏–º–µ–µ—Ç —Å–≤–æ–π —Ü–≤–µ—Ç
- **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ**: –∫—Ä–∞—Å–∏–≤–æ–µ –æ–∫–Ω–æ —Å –æ–ø—Ü–∏—è–º–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- **Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã**: –ø–æ–¥—ä–µ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- **–ê–Ω–∏–º–∞—Ü–∏–∏**: –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏

## –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤

| –°—Ç–∞—Ç—É—Å | –¶–≤–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| **ACTIVE** | üü¢ `#10b981` | –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è |
| **PAUSED** | üü° `#f59e0b` | –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ |
| **CLOSED** | üî¥ `#ef4444` | –ó–∞–∫—Ä—ã—Ç–∞ |
| **DRAFT** | üîò `#6b7280` | –ß–µ—Ä–Ω–æ–≤–∏–∫ |
| **ARCHIVED** | üü£ `#8b5cf6` | –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ |

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞:**
```typescript
const handleStatusChangeClick = (jobId: string, currentStatus: string) => {
  setShowStatusModal(jobId);
  setSelectedStatus(currentStatus);
};
```

### **API –≤—ã–∑–æ–≤:**
```typescript
const handleStatusUpdate = async () => {
  try {
    await updateJobStatus({ 
      jobId: showStatusModal, 
      status: selectedStatus 
    }).unwrap();
    setShowStatusModal(null);
    refetch(); // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
  } catch (error) {
    console.error('Failed to update job status:', error);
  }
};
```

### **–£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
```jsx
<button 
  className={styles.jobStatusButton}
  style={{ color: getJobStatusColor(job.status) }}
  onClick={() => handleStatusChangeClick(job.id, job.status)}
  title="–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤–∞–∫–∞–Ω—Å–∏–∏"
>
  {getJobStatusLabel(job.status)}
  <svg>...</svg>
</button>
```

## –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

### **–î–µ—Å–∫—Ç–æ–ø:**
- –ü–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏
- Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏

### **–ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:**
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏**: —Ç–æ–ª—å–∫–æ HR –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- ‚úÖ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –∫–Ω–æ–ø–∫–æ–π "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å" (DRAFT ‚Üí ACTIVE)
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤–∞–∫–∞–Ω—Å–∏–π
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

### **UX —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –∏ —Ü–≤–µ—Ç–∞
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã
- ‚úÖ –ß–µ—Ç–∫–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
